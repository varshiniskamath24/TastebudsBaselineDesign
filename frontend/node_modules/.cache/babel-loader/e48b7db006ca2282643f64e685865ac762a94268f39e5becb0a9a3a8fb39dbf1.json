{"ast":null,"code":"var _jsxFileName = \"E:\\\\GaTech\\\\ProjectCheckIn3\\\\Project\\\\frontend\\\\src\\\\components\\\\FindFood.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function FindFood({\n  token\n}) {\n  _s();\n  const [restaurants, setRestaurants] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [selected, setSelected] = useState(null);\n  async function fetchNearby() {\n    setLoading(true);\n    setRestaurants([]);\n    navigator.geolocation.getCurrentPosition(async pos => {\n      try {\n        const res = await axios.get(\"http://localhost:5000/api/recommend\", {\n          params: {\n            lat: pos.coords.latitude,\n            lng: pos.coords.longitude\n          }\n        });\n        setRestaurants(res.data || []);\n      } catch (e) {\n        console.error(e);\n        alert(\"Failed to fetch restaurants\");\n      } finally {\n        setLoading(false);\n      }\n    }, () => {\n      alert(\"Allow location access\");\n      setLoading(false);\n    });\n  }\n  if (selected) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"primary-btn\",\n        onClick: () => setSelected(null),\n        children: \"\\u2190 Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          marginTop: 12\n        },\n        children: [\"Menu for \", selected.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 7\n      }, this), selected.menu && selected.menu.length ? selected.menu.map((m, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-title\",\n          children: m.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-sub\",\n          children: [\"\\u20B9 \", m.price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No menu items\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 12\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"page-title\",\n      children: \"Find Food Near You\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"primary-btn\",\n      onClick: fetchNearby,\n      children: loading ? \"Finding...\" : \"Use My Location\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 20\n      },\n      children: [restaurants.length === 0 && !loading && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No restaurants yet. Click Use My Location.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 48\n      }, this), restaurants.map(r => {\n        var _r$distanceKm;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          style: {\n            cursor: 'pointer'\n          },\n          onClick: () => setSelected(r),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-title\",\n            children: r.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-sub\",\n            children: [\"Cuisine: \", r.cuisine]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-sub\",\n            children: [\"Rating: \\u2B50 \", r.avgRating]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-sub\",\n            children: [\"Distance: \", ((_r$distanceKm = r.distanceKm) === null || _r$distanceKm === void 0 ? void 0 : _r$distanceKm.toFixed(2)) || '—', \" km\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this)]\n        }, r._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n_s(FindFood, \"0IUg3BbtnuAhA7wpKM5ygFi6SRk=\");\n_c = FindFood;\nvar _c;\n$RefreshReg$(_c, \"FindFood\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","FindFood","token","_s","restaurants","setRestaurants","loading","setLoading","selected","setSelected","fetchNearby","navigator","geolocation","getCurrentPosition","pos","res","get","params","lat","coords","latitude","lng","longitude","data","e","console","error","alert","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","style","marginTop","name","menu","length","map","m","i","price","r","_r$distanceKm","cursor","cuisine","avgRating","distanceKm","toFixed","_id","_c","$RefreshReg$"],"sources":["E:/GaTech/ProjectCheckIn3/Project/frontend/src/components/FindFood.js"],"sourcesContent":["\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\n\nexport default function FindFood({ token }) {\n  const [restaurants, setRestaurants] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [selected, setSelected] = useState(null);\n\n  async function fetchNearby() {\n    setLoading(true);\n    setRestaurants([]);\n    navigator.geolocation.getCurrentPosition(async (pos) => {\n      try {\n        const res = await axios.get(\"http://localhost:5000/api/recommend\", {\n          params: { lat: pos.coords.latitude, lng: pos.coords.longitude },\n        });\n        setRestaurants(res.data || []);\n      } catch (e) {\n        console.error(e);\n        alert(\"Failed to fetch restaurants\");\n      } finally {\n        setLoading(false);\n      }\n    }, () => { alert(\"Allow location access\"); setLoading(false); });\n  }\n\n  if (selected) {\n    return <div className=\"page-container\">\n      <button className=\"primary-btn\" onClick={() => setSelected(null)}>← Back</button>\n      <h2 style={{marginTop:12}}>Menu for {selected.name}</h2>\n      {selected.menu && selected.menu.length ? selected.menu.map((m,i)=>(\n        <div key={i} className=\"card\">\n          <div className=\"card-title\">{m.name}</div>\n          <div className=\"card-sub\">₹ {m.price}</div>\n        </div>\n      )) : <p>No menu items</p>}\n    </div>;\n  }\n\n  return (\n    <div className=\"page-container\">\n      <h1 className=\"page-title\">Find Food Near You</h1>\n      <button className=\"primary-btn\" onClick={fetchNearby}>{loading ? \"Finding...\" : \"Use My Location\"}</button>\n      <div style={{marginTop:20}}>\n        {restaurants.length===0 && !loading && <p>No restaurants yet. Click Use My Location.</p>}\n        {restaurants.map((r)=>(\n          <div key={r._id} className=\"card\" style={{cursor:'pointer'}} onClick={()=> setSelected(r)}>\n            <div className=\"card-title\">{r.name}</div>\n            <div className=\"card-sub\">Cuisine: {r.cuisine}</div>\n            <div className=\"card-sub\">Rating: ⭐ {r.avgRating}</div>\n            <div className=\"card-sub\">Distance: {r.distanceKm?.toFixed(2) || '—'} km</div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"mappings":";;AACA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,eAAe,SAASC,QAAQA,CAAC;EAAEC;AAAM,CAAC,EAAE;EAAAC,EAAA;EAC1C,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACS,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACW,QAAQ,EAAEC,WAAW,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EAE9C,eAAea,WAAWA,CAAA,EAAG;IAC3BH,UAAU,CAAC,IAAI,CAAC;IAChBF,cAAc,CAAC,EAAE,CAAC;IAClBM,SAAS,CAACC,WAAW,CAACC,kBAAkB,CAAC,MAAOC,GAAG,IAAK;MACtD,IAAI;QACF,MAAMC,GAAG,GAAG,MAAMjB,KAAK,CAACkB,GAAG,CAAC,qCAAqC,EAAE;UACjEC,MAAM,EAAE;YAAEC,GAAG,EAAEJ,GAAG,CAACK,MAAM,CAACC,QAAQ;YAAEC,GAAG,EAAEP,GAAG,CAACK,MAAM,CAACG;UAAU;QAChE,CAAC,CAAC;QACFjB,cAAc,CAACU,GAAG,CAACQ,IAAI,IAAI,EAAE,CAAC;MAChC,CAAC,CAAC,OAAOC,CAAC,EAAE;QACVC,OAAO,CAACC,KAAK,CAACF,CAAC,CAAC;QAChBG,KAAK,CAAC,6BAA6B,CAAC;MACtC,CAAC,SAAS;QACRpB,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC,EAAE,MAAM;MAAEoB,KAAK,CAAC,uBAAuB,CAAC;MAAEpB,UAAU,CAAC,KAAK,CAAC;IAAE,CAAC,CAAC;EAClE;EAEA,IAAIC,QAAQ,EAAE;IACZ,oBAAOR,OAAA;MAAK4B,SAAS,EAAC,gBAAgB;MAAAC,QAAA,gBACpC7B,OAAA;QAAQ4B,SAAS,EAAC,aAAa;QAACE,OAAO,EAAEA,CAAA,KAAMrB,WAAW,CAAC,IAAI,CAAE;QAAAoB,QAAA,EAAC;MAAM;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACjFlC,OAAA;QAAImC,KAAK,EAAE;UAACC,SAAS,EAAC;QAAE,CAAE;QAAAP,QAAA,GAAC,WAAS,EAACrB,QAAQ,CAAC6B,IAAI;MAAA;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,EACvD1B,QAAQ,CAAC8B,IAAI,IAAI9B,QAAQ,CAAC8B,IAAI,CAACC,MAAM,GAAG/B,QAAQ,CAAC8B,IAAI,CAACE,GAAG,CAAC,CAACC,CAAC,EAACC,CAAC,kBAC7D1C,OAAA;QAAa4B,SAAS,EAAC,MAAM;QAAAC,QAAA,gBAC3B7B,OAAA;UAAK4B,SAAS,EAAC,YAAY;UAAAC,QAAA,EAAEY,CAAC,CAACJ;QAAI;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAC1ClC,OAAA;UAAK4B,SAAS,EAAC,UAAU;UAAAC,QAAA,GAAC,SAAE,EAACY,CAAC,CAACE,KAAK;QAAA;UAAAZ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA,GAFnCQ,CAAC;QAAAX,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAGN,CACN,CAAC,gBAAGlC,OAAA;QAAA6B,QAAA,EAAG;MAAa;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACtB,CAAC;EACR;EAEA,oBACElC,OAAA;IAAK4B,SAAS,EAAC,gBAAgB;IAAAC,QAAA,gBAC7B7B,OAAA;MAAI4B,SAAS,EAAC,YAAY;MAAAC,QAAA,EAAC;IAAkB;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAClDlC,OAAA;MAAQ4B,SAAS,EAAC,aAAa;MAACE,OAAO,EAAEpB,WAAY;MAAAmB,QAAA,EAAEvB,OAAO,GAAG,YAAY,GAAG;IAAiB;MAAAyB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAS,CAAC,eAC3GlC,OAAA;MAAKmC,KAAK,EAAE;QAACC,SAAS,EAAC;MAAE,CAAE;MAAAP,QAAA,GACxBzB,WAAW,CAACmC,MAAM,KAAG,CAAC,IAAI,CAACjC,OAAO,iBAAIN,OAAA;QAAA6B,QAAA,EAAG;MAA0C;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,EACvF9B,WAAW,CAACoC,GAAG,CAAEI,CAAC;QAAA,IAAAC,aAAA;QAAA,oBACjB7C,OAAA;UAAiB4B,SAAS,EAAC,MAAM;UAACO,KAAK,EAAE;YAACW,MAAM,EAAC;UAAS,CAAE;UAAChB,OAAO,EAAEA,CAAA,KAAKrB,WAAW,CAACmC,CAAC,CAAE;UAAAf,QAAA,gBACxF7B,OAAA;YAAK4B,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAEe,CAAC,CAACP;UAAI;YAAAN,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC1ClC,OAAA;YAAK4B,SAAS,EAAC,UAAU;YAAAC,QAAA,GAAC,WAAS,EAACe,CAAC,CAACG,OAAO;UAAA;YAAAhB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACpDlC,OAAA;YAAK4B,SAAS,EAAC,UAAU;YAAAC,QAAA,GAAC,iBAAU,EAACe,CAAC,CAACI,SAAS;UAAA;YAAAjB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACvDlC,OAAA;YAAK4B,SAAS,EAAC,UAAU;YAAAC,QAAA,GAAC,YAAU,EAAC,EAAAgB,aAAA,GAAAD,CAAC,CAACK,UAAU,cAAAJ,aAAA,uBAAZA,aAAA,CAAcK,OAAO,CAAC,CAAC,CAAC,KAAI,GAAG,EAAC,KAAG;UAAA;YAAAnB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA,GAJtEU,CAAC,CAACO,GAAG;UAAApB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAKV,CAAC;MAAA,CACP,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAAC/B,EAAA,CArDuBF,QAAQ;AAAAmD,EAAA,GAARnD,QAAQ;AAAA,IAAAmD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}